import numpy as np
import green

print 'How many polynomials? Between zero and 10000. Press enter for automatic n=50.'
while True :
	n = raw_input()
	if n == '' :
		n = 50
		break
	n = int(n)
	if (n > 0 and n < 10000):
		break
	print 'Too small or too large. Try again'
print 'n = '+str(n)

print 'Lower left corner point of graph (complex nember of the form 4+4j). Automatic is 0'
while True:
	s = raw_input()
	if s == '' :
		corner = 0+0j
		break
	try :
		corner = complex(s.replace(" ",""))
		break
	except ValueError:
		print('Try again. The complex number should be of the form 1+2j.')
print 'corner = '+str(corner)


print "Type the width of the graph (same for each dimention). Automatic is 4.0."
while True:
	s = raw_input()
	if s == '' :
		width = 4.0
		break
	width = float(s)
	if width > 0 and width < 100:
		break
	if width <= 0:
		print "The width can't be negative or zero."
	else :
		print "Too large."
print 'width = '+str(width)

print "You have the following choices for the conditions and Q.\n\"t\"or\"T\" for typing manually \n\"w\"or\"W\" for typing manually and writing them in a file \n\"r\"or\"R\" for reading a file already created \n\"a\"or\"A\" for automatic conditions (z.real)**2 + (z.imag)**2 < (0.9)**2 and Q as np.log(abs(1/(1-z)))"
while True:
	tfwa = raw_input( )
	if tfwa == "a" or tfwa == "A":
		condition = lambda z: (z.real)**2 + (z.imag)**2 < (0.9)**2
		Q = lambda z: np.log(abs(1/(1-z)))
		break
	if tfwa == "t" or tfwa == "T":
		print "Type desired conditions for the region of the function."
		while True:
			tempcond = raw_input()
			if tempcond != '' :
				condition = lambda z: eval(tempcond)
				break
		break
		print "Type desired function Q."
		while True:
			tempcond = raw_input()
			if tempcond != '' :
				condition = lambda z: eval(tempcond)
				break
		break
	if tfwa == "w" or tfwa == "W":
		print "Specify the name of the name of the file you would like to create. Make sure you do not overwrite any existing file. No need for .txt."
		name = raw_input() + ".txt"
		cond = raw_input( "Now type the conditions.")
		qtemp = raw_input("Now type Q.")
		with open(name, 'w') as file:
			file.write(cond+"\n" +qtemp)
		break
	if tfwa == "r" or tfwa == "R":
		nafni  = raw_input( "Type the name of your file or press i for instructions.\n") 
		if nafni == "i" or nafni =="I":
			print "Make sure your desired file is saved in the folder greenfuction. Write the name of the file without \".txt\" at the end. The file should have the equation for the conditions in the first line, and the formula for Q in the second line. No need for \"lambda z:\"."
			filename = raw_input() +".txt"
		else :
			filename = nafni +".txt"
		file = open(filename, "r") 
		print "Condition:"+ file.readline(1)
		print "Q:"+ file.readline(2)
		condition = lambda z: eval(file.readline(1))
		Q = lambda z: eval(file.readline(2))
		break
	print "What do you mean? Pick \"t\", \"w\", \"r\" or \"a\"."

green.drawGreen( n, Q, corner, width, condition, 100, save = False )
